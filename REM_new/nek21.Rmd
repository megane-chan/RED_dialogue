```{r}
rm(list = ls())

# Load libraries
library(rstudioapi)
library(tidyverse)
library(tidyr)
library(dplyr)
library(igraph)
library(readxl)
library(skimr)
library(glmnet)
# Set Path
setwd("~/RProjects/SNA_REM/REM_new/")
```


```{r}
trans <- read.csv("data/trans.csv")
trans %>% skim
```


```{r}
pred <- read.csv("data/trans_preds.csv")
pred %>% skim()
```


```{r}
df <- cbind(trans, pred) %>%
  select(-X) %>%
  rename("outcome" = "BC_Trans_Preds")
df %>% skim()
```


```{r}
unique_sessions <- unique(df$session)
print(unique_sessions)
length(unique_sessions)
```


```{r}
session_dfs <- list()

for (session_id in unique_sessions) {

  session_data <- subset(df, session == session_id)

  session_dfs[[paste0("df_", session_id)]] <- session_data }

nek21_data <- session_dfs[5:23]

nek21_data %>% saveRDS("data/nek21_data.RData")

```

